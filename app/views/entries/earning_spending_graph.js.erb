<% @values = { 'Gross Spending' => @gross_spending,
               'Gross Income' => @gross_income,
               'Net Profit' => @net_profit} %>
<% @chart_element_id = "month_chart" %>
<% @chart_params = { title: "#{params[:year]} Overview", width: '100%', height: 450} %>
<% @categories = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"] %>

<% @defaults = {width: 320, height: 240, units: '', title: '', min: @values.values.flatten.min.to_i, max: @values.values.flatten.max.to_i, legend: 'right'} %>
<% @defaults.merge!(@chart_params) %>
<%# @defaults.each do |k, v| %>
  <%# @defaults[k] = array_or_string_for_javascript(v) if v.kind_of?(String) %>
<%# end %>

<%# @values.each do |k, v| %>
  <%# @values[k] = array_or_string_for_javascript(v) if v.kind_of?(Array) %>
<%# end %>

<%# @new_values = {} %>
<%# @values.each do |k, v| %>
  <%# @new_values[array_or_string_for_javascript(k)] = v %>
<%# end %>

<%# @values = @new_values %>

drawHighChartHistogramChart("<%= @chart_element_id %>", <%= @values.to_json.html_safe %>, <%= @defaults.to_json.html_safe %>, <%= @categories.to_json.html_safe %>);
