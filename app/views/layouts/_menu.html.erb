<div class="container">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>

    <%= link_to 'Balance', root_path, class: 'navbar-brand' %>
  </div>

  <div class="collapse navbar-collapse navbar-ex1-collapse">
    <ul class="nav navbar-nav">
      <li class="<%= 'active' if current_page?(root_path) or current_page?(calendar_path) %>"><%= link_to "<span class='glyphicon glyphicon-calendar'></span> Calendar".html_safe, root_path %></li>
      <li class="<%= 'active' if current_page?(current_balance_entries_path) %>"><%= link_to "<span class='glyphicon glyphicon-usd'></span> Current Balance".html_safe, current_balance_entries_path %></li>
      <li class="<%= 'active' if current_page?(averages_entries_path) %>"><%= link_to "<span class='glyphicon glyphicon-dashboard'></span> Averages".html_safe, averages_entries_path %></li>
      <li class="<%= 'active' if current_page?(overview_entries_path) %>"><%= link_to "<span class='glyphicon glyphicon-stats'></span> Graphs".html_safe, overview_entries_path %></li>
      <li class="<%= 'active' if current_page?(entries_path) or (params[:controller] == 'entries' and ['new', 'create', 'edit', 'update', 'destroy'].include?(params[:action])) %>"><%= link_to "<span class='glyphicon glyphicon-list'></span> Entries".html_safe, entries_path %></li>
    </ul>

    <ul class="nav navbar-nav navbar-right">
      <% if current_user %>
        <li class="dropdown">
          <%= link_to '#', class: 'dropdown-toggle', data: { object: 'dropdown', toggle: 'dropdown' } do %>
            Welcome,
            <%= current_user.first_name %>
            <span class="caret"></span>
          <% end %>
          <ul class="dropdown-menu" role="menu">
            <li><%= link_to "<span class='glyphicon glyphicon-book'></span> Add New Account".html_safe, accounts_path %></li>
            <li><%= link_to "<span class='glyphicon glyphicon-credit-card'></span> Add New Charge Type".html_safe, charge_types_path %></li>
            <li class="divider"></li>
            <li class="disabled"><a href="#" data-object="suppress-click"><span class="glyphicon glyphicon-tree-conifer"></span> Balance v<%= Balance::VERSION::STRING %></a></li>
          </ul>
        </li>
        <li>
          <%= link_to "Sign Out <span class='glyphicon glyphicon-log-out'></span>".html_safe, destroy_user_session_path, class: 'logout-button' %>
        </li>
      <% else %>
        <li class="<%= 'active' if current_page?(new_user_session_path) %>"><%= link_to 'Sign in', new_user_session_path %></li>
      <% end %>
    </ul>

  </div>
</div>
