# Author: Remo Mueller
# File: INSTALL
# Created: 19 June 2011
# Description: Installation instructions along with general help for Mac specific installs.

# General Notes:
# The <src> folder is a folder on your computer where you track your source code.  This code
# is used to configure, make, install, and potentially uninstall source code that will be
# used for the program.

# x) Install node.js and CoffeeScript

  # Download and compile node.js
  
  cd <src>
  wget http://nodejs.org/dist/node-v0.4.8.tar.gz
  tar xzvf node-v0.4.8.tar.gz
  rm node-v0.4.8.tar.gz
  cd node-v0.4.8/
  ./configure --prefix=/usr/local
  make
  sudo make install
  
  # Test that node.js installed correctly
  # Should return:
  #   /usr/local/bin/node
  #   v0.4.8
  
  which node
  node -v
  
  # Download and compile Node Package Manager
  
  cd <src>
  git clone http://github.com/isaacs/npm.git
  cd npm/
  sudo make install
  
  # Test that npm installed correctly
  # Should return:
  #   /usr/local/bin/npm
  #   1.0.13 (or higher)
  
  which npm
  npm -v
  
  # Download and compile CoffeeScript
  
  sudo npm install -g coffee-script
  
  # Test that CoffeeScript installed correctly
  # Should return:
  #   /usr/local/bin/coffee
  #   CoffeeScript version 1.1.1 (or higher)
  
  which coffee
  coffee -v

# 0) How To

# Recompile Passenger Apache to use latest Ruby

  sudo gem install passenger
  sudo passenger-install-apache2-module
  
# Link in case MySQL doesn't work properly with Passenger
  sudo install_name_tool -change libmysqlclient.18.dylib /usr/local/mysql/lib/libmysqlclient.18.dylib /usr/local/lib/ruby/gems/1.9.1/gems/mysql2-0.2.7/lib/mysql2/mysql2.bundle